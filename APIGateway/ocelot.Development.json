{
    "GlobalConfiguration": {
        "ServiceDiscoveryProvider": {
            "Namespace": "service",
            "Type": "KubernetesServiceDiscoveryProvider",
            "Port":  443
        },
        "Routes": [
            {
                "UseServiceDiscovery": true,
                "UpstreamPathTemplate": "/api/authentication/login",
                "UpstreamHttpMethod": [ "Post" ],
                "DownstreamPathTemplate": "/api/v1/authentication/login",
                "RouteIsCaseSensitive": false,
                "ServiceName": "auth-service",
                "ServiceNameSpace": "api",
                "DownstreamScheme": "https"
            },
            {
                "UseServiceDiscovery": true,
                "UpstreamPathTemplate": "/api/estimates",
                "UpstreamHttpMethod": [ "Get" ],
                "DownstreamPathTemplate": "/api/v1/estimates",
                "RouteIsCaseSensitive": false,
                "ServiceName": "estimate-api",
                "ServiceNameSpace": "api",
                "DownstreamScheme": "https",
                "AuthenticationOptions": {
                    "AuthenticationProviderKey": "APIGatewayAuthentication"
                }
            },
            {
                "UseServiceDiscovery": true,
                "UpstreamPathTemplate": "/api/estimates/refresh",
                "UpstreamHttpMethod": [ "Get" ],
                "DownstreamPathTemplate": "/api/v1/estimates/refresh",
                "ServiceName": "estimate-api",
                "ServiceNameSpace": "api",
                "RouteIsCaseSensitive": false,
                "DownstreamScheme": "https",
                "AuthenticationOptions": {
                    "AuthenticationProviderKey": "APIGatewayAuthentication"
                }
            },
            {
                "UseServiceDiscovery": true,
                "UpstreamPathTemplate": "/api/location/autocomplete",
                "UpstreamHttpMethod": [ "Get" ],
                "DownstreamPathTemplate": "/api/v1/location/autocomplete",
                "ServiceName": "location-api",
                "ServiceNameSpace": "api",
                "RouteIsCaseSensitive": false,
                "DownstreamScheme": "https"
            },
            {
                "UseServiceDiscovery": true,
                "UpstreamPathTemplate": "/api/rides/{rideId}",
                "UpstreamHttpMethod": [ "Delete", "Get" ],
                "ServiceName": "request-api",
                "ServiceNameSpace": "api",
                "DownstreamPathTemplate": "/api/v1/rides/{rideId}",
                "RouteIsCaseSensitive": false,
                "DownstreamScheme": "https",
                "AuthenticationOptions": {
                    "AuthenticationProviderKey": "APIGatewayAuthentication"
                }
            },
            {
                "UseServiceDiscovery": true,
                "UpstreamPathTemplate": "/api/rides/request/{estimateId}",
                "UpstreamHttpMethod": [ "Post" ],
                "DownstreamPathTemplate": "/api/v1/rides/request/{estimateId}",
                "RouteIsCaseSensitive": false,
                "ServiceName": "request-api",
                "ServiceNameSpace": "api",
                "DownstreamScheme": "https",
                "AuthenticationOptions": {
                    "AuthenticationProviderKey": "APIGatewayAuthentication"
                }
            },
            {
                "UseServiceDiscovery": true,
                "UpstreamPathTemplate": "/api/providers",
                "UpstreamHttpMethod": [ "Get" ],
                "DownstreamPathTemplate": "/api/v1/providers",
                "RouteIsCaseSensitive": false,
                "ServiceName": "services-api",
                "ServiceNameSpace": "api",
                "DownstreamScheme": "https",
                "AuthenticationOptions": {
                    "AuthenticationProviderKey": "APIGatewayAuthentication"
                }
            },
            {
                "UseServiceDiscovery": true,
                "UpstreamPathTemplate": "/api/user/info/{username}",
                "UpstreamHttpMethod": [ "Get", "Patch" ],
                "DownstreamPathTemplate": "/api/v1/user/info/{username}",
                "ServiceName": "user-service",
                "ServiceNameSpace": "api",
                "RouteIsCaseSensitive": false,
                "DownstreamScheme": "https",
                "AuthenticationOptions": {
                    "AuthenticationProviderKey": "APIGatewayAuthentication"
                }
            },
            {
                "UseServiceDiscovery": true,
                "UpstreamPathTemplate": "/api/user/info/{username}/ridehistory",
                "UpstreamHttpMethod": [ "Get" ],
                "DownstreamPathTemplate": "/api/v1/user/{username}/rideHistory",
                "ServiceName": "user-service",
                "ServiceNameSpace": "api",
                "RouteIsCaseSensitive": false,
                "DownstreamScheme": "https",
                "AuthenticationOptions": {
                    "AuthenticationProviderKey": "APIGatewayAuthentication"
                }
            },
            {
                "UseServiceDiscovery": true,
                "UpstreamPathTemplate": "/api/user/signup",
                "UpstreamHttpMethod": [ "POST" ],
                "DownstreamPathTemplate": "/api/v1/user/signup",
                "ServiceName": "user-service",
                "ServiceNameSpace": "api",
                "RouteIsCaseSensitive": false,
                "DownstreamScheme": "https"
            }
        ]
    }
}
